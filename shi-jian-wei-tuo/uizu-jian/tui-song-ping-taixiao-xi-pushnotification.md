# 推送平台消息 PushNotification

作用：向指定的用户推送消息，通过设置“推送模式”发送不同类型的消息；通过设置“提醒方式”，使用声音、震动等方式提醒接收消息用户；在页面放置“消息监听器”控件，监听指定类型的消息，进行相应的业务操作（例如：刷新页面显示数据、控制控件的显示等）。

#### 消息推送流程：

![](/assets/PushNotification1.png)

### 设计属性

* ##### 用户Id

  * 类型：数组；

  * 说明：砚台用户的\_id集合,向指定用户推送消息；
* ##### 消息标题

  * 类型：字符串；

  * 说明：消息模式m=1时是必填项目，否则可以不设置此属性；
* ##### 消息内容

  * 类型：字符串；

  * 说明：消息模式m=1时必填，否则可以不设置此属性；
* ##### 消息Id

  * 类型：字符串；

  * 说明：消息类型编号，客户端可监听某一类型的消息并处理；
* ##### 应用Id

  * 类型：字符串；

  * 说明：应用标识 ，向某一应用程序推送消息；
* ##### 推送模式

  * 类型：数值

  * 说明：0--不需要显示到设备的本地消息， 1—需要显示到设备的本地消息，2-PC端弹出消息列表，3-PC端语音播放消息；
* 提醒方式

  * 类型：数值；

  * 说明：0—无声音、无震动、无闪光 1—声音 2—震动 3—闪光灯 4—声音震动 5—声音、震动、闪光；

* 用户数据

  * 类型：对象；

  * 说明：用户自定义的其它数据，开发者可根据需要定义一些内容；

##### 消息结构说明：

* ```js
  Msg = {
      m:0,            //消息模式  0--不需要显示到设备的本地消息 1—需要显示到设备的本地消息
      f:0,            //提醒方式 0—无声音、无震动、无闪光 1—声音 2—震动 3—闪光灯 4—声音震动 5—声音、震动、闪光
      title:'消息标题',  //消息标题 消息模式m=1时是必填项目，否则可以不设置此属性
      body:'消息内容',  //消息内容 消息模式m=1时必填，否则可以不设置此属性
      badge:0,        //消息标识 用于显示在应用图标右上角的标记数量
      appid:'',       //应用标识 向某一应用程序推送消息
      msgid:'',       //消息类型编号 客户端可监听某一类型的消息并处理
      ud:{}           //此属性为用户自定义的其它数据，开发者可根据需要定义一些内容
  }
  ```

##### 



