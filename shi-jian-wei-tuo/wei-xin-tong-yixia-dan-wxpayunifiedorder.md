# 微信统一下单 WxPayUnifiedOrder

作用：生成用于微信支付的订单；

### 设计属性

#### 1、微信统一下单：

* ##### 活动标题

  * 类型：字符串；

  * 值：默认值：微信统一下单；

  * 说明：
* ##### 活动注释

  * 类型：字符串；

  * 值：

  * 说明：对活动的说明；
* ##### App Id

  * 类型：字符串；

  * 说明：微信开放平台审核通过的移动应用APPID；
* ##### 公众号Id

  * 类型：字符串；

  * 说明：微信公众平台审核通过的公众号APPID；
* ##### MchId

  * 类型：字符串；

  * 示例：DBAzure；

  * 说明：微信支付分配的商户号，需与APPID签约绑定关系；
* ##### SubAppId

  * 类型：字符串；

  * 说明：子应用APPID，可不填；
* ##### SubMchId

  * 类型：字符串；

  * 说明：子商户号，可不填；
* ##### 签名密钥

  * 类型：字符串；

  * 值：

  * 说明：签名密钥；
* ##### 交易类型

  * 类型：字符串；

  * 值：

  * 说明：可选类型：

    APP：微信App支付；

    JSAPI：微信公众号支付；

    NATIVE：微信后台系统返回链接参数code\_url，商户后台系统将code\_url值生成二维码图片，用户使用微信客户端扫码后发起支付；注意：

    code\_url有效期为2小时，过期后扫码不能再发起支付。
* ##### 订单号

  * 类型：字符串；

  * 说明：用于支付的商户订单号；
* ##### 支付金额

  * 类型：数值；

  * 示例:@0.01；

  * 说明：设置支付金额；
* ##### 备注

  * 类型：字符串；

  * 示例：测试支付订单；

  * 说明：微信支付界面的显示信息，商品信息。不能为空；
* ##### 操作员

  * 类型：字符串；

  * 示例：收银员；

  * 说明：填写操作员信息；

#### 2、调用成功：调用成功时需要执行的操作

* ##### 活动标题

  * 类型：字符串；

  * 值：默认值：调用成功；

  * 说明：
* ##### 活动注释

  * 类型：字符串；

  * 值：

  * 说明：对活动的说明；

#### 3、调用失败：调用失败时需要执行的操作

* ##### 活动标题

  * 类型：字符串；

  * 值：默认值：调用失败；

  * 说明：
* ##### 活动注释

  * 类型：字符串；

  * 值：

  * 说明：对活动的说明；

##### 回调函数参数：

* ##### resp-获取下单信息对象

  * 类型：对象；

  * 说明：在“调用成功”和“调用失败”中可以获取下单信息对象resp。订单信息对象属性Data对象包含“二维码收款数据Code\_Url”等属性；

  * 结构：

  * ```js
    {
            Data:{Code_Url: "weixin://wxpay/bizpayurl?pr=pdggfdB",
                MPSignCode: "E0AB754F4A",
                Prepay_Id: "wx21140e5af1701684700",
                SignCode: "DACDA17DA",
                Trade_Type: "NATIVE",
                nonce_str: "43b578b20",
                package: "Sign=WXPay",
                timestamp: "1590041060"},
            Exception: "",
            State: "0",
            XmlData: ""
        }
    ```



